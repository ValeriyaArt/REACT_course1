{"version":3,"sources":["components/common/FormsControls/FormsControls.js","components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","hoc/withAuthRedirect.js","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.js","components/Dialogs/Message/Message.js","components/Dialogs/Dialogs.js","components/Dialogs/DialogsContainer.js"],"names":["FormControl","_ref","input","_ref$meta","meta","touched","error","children","hasError","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","className","styles","formControl","Textarea","props","restProps","Object","C_Users_User_easy_react_REACT_course1_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","assign","Input","createField","placeholder","name","validators","component","arguments","length","undefined","text","redux_form__WEBPACK_IMPORTED_MODULE_3__","validate","module","exports","formSummaryError","__webpack_require__","d","__webpack_exports__","required","maxLengthCreator","value","maxLength","concat","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","_React$Component","C_Users_User_easy_react_REACT_course1_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","C_Users_User_easy_react_REACT_course1_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_User_easy_react_REACT_course1_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","apply","C_Users_User_easy_react_REACT_course1_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","C_Users_User_easy_react_REACT_course1_my_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","react__WEBPACK_IMPORTED_MODULE_5___default","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","React","connect","dialogs","dialogsItems","dialog","messages","message","DialogItem","react_default","s","react_router_dom","id","Message","maxLength50","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","Dialogs","messagesPage","dialogElements","map","Dialogs_DialogItem_DialogItem","messageElements","m","Dialogs_Message_Message","values","alert","newMessageBody","sendMessage","compose","dispatch","sendMessageActionCreator"],"mappings":"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","file":"static/js/6.e2fb0fbb.chunk.js","sourcesContent":["import React from \"react\";\r\nimport styles from \"./FormsControls.module.css\"\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : \" \")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}>\r\n            <textarea {...input} {...restProps}/>\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}>\r\n            <input {...input} {...restProps}/>\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = '') => (\r\n    <div>\r\n            <Field placeholder={placeholder}\r\n                   name={name}\r\n                   validate={validators}\r\n                   component={component}\r\n                   {...props}\r\n                   />\r\n                   <div>{text}</div>\r\n        </div>\r\n)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__455hm\",\"error\":\"FormsControls_error__3p8j0\",\"formSummaryError\":\"FormsControls_formSummaryError__28hf5\"};","import React from \"react\";\r\n\r\nexport const required = value => {\r\n    if (value) return undefined;\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}","import React, {Component} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect=(Component)=>{\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect) (RedirectComponent)\r\n    return ConnectedAuthRedirectComponent\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2Wdi6\",\"dialogsItems\":\"Dialogs_dialogsItems__3_AC9\",\"dialog\":\"Dialogs_dialog__qXFJq\",\"messages\":\"Dialogs_messages__2FZ6V\",\"message\":\"Dialogs_message__2AFdE\"};","import React from \"react\";\r\nimport s from './../Dialogs.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst DialogItem = (props) => {\r\n    return (\r\n        <div className={s.dialog}>\r\n            <NavLink to={'/dialog/' + props.id}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItem","import React from \"react\";\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div>{props.message}</div>\r\n    )\r\n}\r\n\r\n\r\nexport default Message","import React from \"react\";\r\nimport s from './Dialogs.module.css'\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\n\r\nconst Dialogs = (props) => {\r\n    let state = props.messagesPage;\r\n\r\n    let dialogElements = state.dialogs.map(dialog => <DialogItem name={dialog.name} key={dialog.id} id={dialog.id}/>)\r\n\r\n    let addNewMessage = (values) =>{\r\n        alert(values.newMessageBody)\r\n        props.sendMessage(values.newMessageBody)\r\n    }\r\n\r\n    let messageElements = state.messages.map(m => <Message message={m.message}/>);\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.dialogs}>\r\n                <div className={s.dialogsItems}>\r\n                    {dialogElements}\r\n                </div>\r\n                <div className={s.messages}>\r\n                    <div>{messageElements}</div>\r\n                </div>\r\n                <div>\r\n                    <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst maxLength50 = maxLengthCreator(50)\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <div>\r\n                    <Field name={\"newMessageBody\"}\r\n                           validate={[required,maxLength50]}\r\n                           component={Textarea}\r\n                           placeholder='Enter your message'/></div>\r\n                <div>\r\n                    <button>Send</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm({form: 'dialogAddMessageForm'})(AddMessageForm)\r\n\r\nexport default Dialogs","import {sendMessageActionCreator} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        messagesPage: state.messagesPage\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (newMessageBody) => {\r\n            dispatch(sendMessageActionCreator(newMessageBody))\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs)"],"sourceRoot":""}